
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://azgaviperr.github.io/docs/3-nodes-swarm/Firewalling/Firewalling/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.1.2">
    
    
      
        <title>Firewalling - Azgaviperr Write-up</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f955dcd.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="yellow">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#firewalling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Azgaviperr Write-up" class="md-header__button md-logo" aria-label="Azgaviperr Write-up" data-md-component="logo">
      
  <img src="../../../images/azgaviperr.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Azgaviperr Write-up
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Firewalling
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        3 nodes swarm
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Stacks/Portainer/" class="md-tabs__link">
        Stacks
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Azgaviperr Write-up" class="md-nav__button md-logo" aria-label="Azgaviperr Write-up" data-md-component="logo">
      
  <img src="../../../images/azgaviperr.png" alt="logo">

    </a>
    Azgaviperr Write-up
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        3 nodes swarm
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="3 nodes swarm" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          3 nodes swarm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Data Persistance
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Persistance" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Data Persistance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../GlusterFS/GlusterFS/" class="md-nav__link">
        Installing GlusterFS Server
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      <label class="md-nav__link" for="__nav_2_3">
        Docker Swarm
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Docker Swarm" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Docker Swarm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../DockerSwarm/Installation/" class="md-nav__link">
        Docker swarm
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2" type="checkbox" id="__nav_2_3_2" >
      
      <label class="md-nav__link" for="__nav_2_3_2">
        Stacks
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Stacks" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Stacks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../DockerSwarm/Stacks/Portainer/" class="md-nav__link">
        Portainer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../DockerSwarm/Stacks/Shuffler/" class="md-nav__link">
        Shuffle
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" checked>
      
      <label class="md-nav__link" for="__nav_2_4">
        Firewalling
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Firewalling" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Firewalling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Firewalling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Firewalling
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-configuration" class="md-nav__link">
    Base configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-swarm" class="md-nav__link">
    Docker Swarm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glusterfs" class="md-nav__link">
    GlusterFS
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Stacks" class="md-nav__link">
        Stacks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources" class="md-nav__link">
        Resources
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Stacks
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Stacks" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Stacks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Stacks/Portainer/" class="md-nav__link">
        Portainer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../Stacks/Shuffler/" class="md-nav__link">
        Shuffle
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-configuration" class="md-nav__link">
    Base configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-swarm" class="md-nav__link">
    Docker Swarm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glusterfs" class="md-nav__link">
    GlusterFS
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="firewalling">Firewalling<a class="headerlink" href="#firewalling" title="Permanent link">#</a></h1>
<p><img src="data:image/png;base64,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" title="" alt="data:image/png;base64,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" data-align="center"></p>
<h2 id="base-configuration">Base configuration<a class="headerlink" href="#base-configuration" title="Permanent link">#</a></h2>
<p>Activate firewalld, you may want to check in /etc/firewalld/zones/ to check what is going to happen ^^ . One issue happening quite often is when you changed the default ssh port. As the ssh service declared in /usr/lib/firewalld/services/ssh.xml is referencing to port 22. If it's the case, copy the service.xml into /etc/firewalld/service and change the port of it. </p>
<p>(And yes, this happen to me a few times)</p>
<div class="highlight"><pre><span></span><code>systemctl <span class="nb">enable</span> firewalld --now
</code></pre></div>
<p>Unmask the service if needed :</p>
<div class="highlight"><pre><span></span><code>systemctl unmask firewalld
</code></pre></div>
<p>By default, firewalld is having a public zone created. </p>
<p>This public zone allow the use of ssh, cockpit, dhcpv6-client.</p>
<div class="highlight"><pre><span></span><code>cat /etc/firewalld/zones/public.xml

&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span>?&gt;
&lt;zone&gt;
  &lt;short&gt;Public&lt;/short&gt;
  &lt;description&gt;For use <span class="k">in</span> public areas. You <span class="k">do</span> not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;
  &lt;service <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;ssh&quot;</span>/&gt;
  &lt;service <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;dhcpv6-client&quot;</span>/&gt;
  &lt;service <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;cockpit&quot;</span>/&gt;  
&lt;/zone
</code></pre></div>
<p>If you don't use cockpit or dhcpv6-client, you can remove them from the configuration. </p>
<p>For example to delete cockpit service:</p>
<div class="highlight"><pre><span></span><code>firewall-cmd --permamnent --zone<span class="o">=</span>public --remove-service<span class="o">=</span>cockpit
firewall-cmd --reload
</code></pre></div>
<p>Note here the parameters:</p>
<ul>
<li>
<p>--permanent: means the rules gonna last after service restart</p>
</li>
<li>
<p>--zone: is used to indicate what zone should be modified, by default it's the public one</p>
</li>
<li>
<p>--remove-service : remove the service declared in /etc/firewalld/services/ without the .xml ending</p>
</li>
</ul>
<p>firewall-cmd --reload is going to reload firewalld with latest configuration. </p>
<p>Let's add some services </p>
<div class="highlight"><pre><span></span><code>firewall-cmd --permanent --zone<span class="o">=</span>public --add-service<span class="o">=</span>http

firewall-cmd --permanent --zone<span class="o">=</span>public --add-service<span class="o">=</span>https

firewall-cmd --reload
</code></pre></div>
<p>We are going now to create a new zone representing the nodes of our cluster, and add  sources to it (understand incoming traffic).</p>
<div class="highlight"><pre><span></span><code>firewall-cmd --permanent --new-zone<span class="o">=</span>swarm

firewall-cmd --permanent --zone<span class="o">=</span>swarm --add-source<span class="o">=</span><span class="m">10</span>.0.0.51
firewall-cmd --permanent --zone<span class="o">=</span>swarm --add-source<span class="o">=</span><span class="m">10</span>.0.0.52
firewall-cmd --permanent --zone<span class="o">=</span>swarm --add-source<span class="o">=</span><span class="m">10</span>.0.0.53

firewall-cmd --reload
</code></pre></div>
<p>Let's check if sources where added</p>
<div class="highlight"><pre><span></span><code>firewall-cmd --zone<span class="o">=</span>swarm --list-sources

<span class="m">10</span>.0.0.51 <span class="m">10</span>.0.0.52 <span class="m">10</span>.0.0.53
</code></pre></div>
<p>firewall-cmd --zone=swarm --list-sources</p>
<p>Ajouter les services
n√©cessaires au cluster</p>
<p>cp
/usr/lib/firewalld/services/docker-swarm.xml /etc/firewalld/services/</p>
<p>firewall-cmd
--zone=swarm --add-service=docker-swarm --permanent</p>
<p>firewall-cmd --reload</p>
<h2 id="docker-swarm">Docker Swarm<a class="headerlink" href="#docker-swarm" title="Permanent link">#</a></h2>
<p>Let's add the service to the swarm zone:</p>
<p>By default firewalld come bundled with some services. You can find them in /usr/lib/firewalld/services".</p>
<p>I like to copy them in /etc/firewalld/services when I use them as it prevent it to be changed after an update. Firewalld prioritize service in "/etc/firewalld/services/" then in "/usr/lib/firewalld/services" .</p>
<p>So let's copy the docker-swarm service:</p>
<div class="highlight"><pre><span></span><code>cp /usr/lib/firewalld/services/docker-swarm.xml /etc/firewalld/services/

cat /etc/firewalld/services/docker-swarm.xml
&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span>?&gt;
&lt;service&gt;
  &lt;short&gt;Docker integrated swarm mode&lt;/short&gt;
  &lt;description&gt;Natively managed cluster of Docker Engines <span class="o">(</span>&gt;<span class="o">=</span><span class="m">1</span>.12.0<span class="o">)</span>, where you deploy services.&lt;/description&gt;
  &lt;port <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;2377&quot;</span> <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span>/&gt;
  &lt;port <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;7946&quot;</span> <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span>/&gt;
  &lt;port <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;7946&quot;</span> <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;udp&quot;</span>/&gt;
  &lt;port <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;4789&quot;</span> <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;udp&quot;</span>/&gt;
  &lt;protocol <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;esp&quot;</span>/&gt;
&lt;/service&gt;
</code></pre></div>
<p>Then add it to the zone:</p>
<div class="highlight"><pre><span></span><code>firewall-cmd --permanent --zone<span class="o">=</span>swarm --add-service<span class="o">=</span>docker-swarm
firewall-cmd --reload

firewall-cmd --zone<span class="o">=</span>swarm --list-services
docker-swarm
</code></pre></div>
<p>Now we did allow the port and protocols for the nodes to be used our cluster, and off course all those action have to be done on each host of the cluster. </p>
<h2 id="glusterfs">GlusterFS<a class="headerlink" href="#glusterfs" title="Permanent link">#</a></h2>
<p>By default GlusterFS service for firewalld is not available, but after installing GlusterFS Server on your host, the XML file gonna be available at "/usr/lib/firewalld/services/".</p>
<div class="highlight"><pre><span></span><code>cat /usr/lib/firewalld/services/glusterfs.xml 
&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span>?&gt;
&lt;service&gt;
&lt;short&gt;glusterfs-static&lt;/short&gt;
&lt;description&gt;Default ports <span class="k">for</span> gluster-distributed storage&lt;/description&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;24007&quot;</span>/&gt;    &lt;!--For glusterd --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;24008&quot;</span>/&gt;    &lt;!--For glusterd RDMA port management --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;24009&quot;</span>/&gt;    &lt;!--For glustereventsd --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;38465&quot;</span>/&gt;    &lt;!--Gluster NFS service --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;38466&quot;</span>/&gt;    &lt;!--Gluster NFS service --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;38467&quot;</span>/&gt;    &lt;!--Gluster NFS service --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;38468&quot;</span>/&gt;    &lt;!--Gluster NFS service --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;38469&quot;</span>/&gt;    &lt;!--Gluster NFS service --&gt;
&lt;port <span class="nv">protocol</span><span class="o">=</span><span class="s2">&quot;tcp&quot;</span> <span class="nv">port</span><span class="o">=</span><span class="s2">&quot;49152-49664&quot;</span>/&gt;  &lt;!--512 ports <span class="k">for</span> bricks --&gt;
&lt;/service&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code>cp /usr/lib/firewalld/services/glusterfs.xml /etc/firewalld/services/
firewall-cmd --permanent --zone<span class="o">=</span>swarm --add-service<span class="o">=</span>glusterfs
firewall-cmd --reload
firewall-cmd --zone<span class="o">=</span>swarm --list-services
docker-swarm
glusterfs
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../DockerSwarm/Stacks/Shuffler/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Shuffle
            </div>
          </div>
        </a>
      
      
        <a href="../../../Stacks/Portainer/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Portainer
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>